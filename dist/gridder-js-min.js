(()=>{var e=function e(){var n=[].slice.call(arguments),s=!1;"boolean"==typeof n[0]&&(s=n.shift());var r=n[0];if(i(r))throw new Error("extendee must be an object");for(var l=n.slice(1),o=l.length,a=0;a<o;a++){var c=l[a];for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var h=c[d];if(s&&t(h)){var p=Array.isArray(h)?[]:{};r[d]=e(!0,Object.prototype.hasOwnProperty.call(r,d)&&!i(r[d])?r[d]:p,h)}else r[d]=h}}return r};function t(e){return Array.isArray(e)||"[object Object]"=={}.toString.call(e)}function i(e){return!e||"object"!=typeof e&&"function"!=typeof e}var n={columns:4,gap:20,debug:!1,nextText:"Next",prevText:"Previous",closeText:"Close",gridClass:"gridder-list",expanderClass:"gridder-show",init(){},open(){},close(){}};class s{static initClass(){}constructor(t,i){let r;if(this.element=t,this.clickableElements=[],this.listeners=[],this.clickedElement=null,this.expanderElement=null,"string"==typeof this.element&&(this.element=document.querySelector(this.element)),this.element.gridderjs)throw new Error("GridderJS already attached.");s.instances.push(this),this.element.gridderjs=this;let l=null!=(r=s.optionsForElement(this.element))?r:{};this.options=e(!0,{},n,l,null!=i?i:{}),this.#e()}#e(){let e;for(e of this.element.querySelectorAll("."+this.options.gridClass))this.clickableElements.push(e);if(null==this.clickableElements||!this.clickableElements.length)throw new Error(`Invalid \`${this.options.gridClass}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return this.clickableElements.forEach((e=>this.listeners.push({element:e,events:{click:e=>{this.#t(e)}}}))),this.#i(),this.options.init.call(this,this.element)}#i(){return this.element.style.display="grid",this.element.style.gridTemplateColumns="repeat("+this.options.columns+", 1fr)",this.element.style.gridAutoFlow="row dense",this.element.style.gap=this.options.gap+"px",delete this.disabled,this.clickableElements.forEach((e=>e.classList.add("g-clickable"))),this.#n()}#n(){return this.listeners.map((e=>(()=>{let t=[];for(let i in e.events){let n=e.events[i];t.push(e.element.addEventListener(i,n,!1))}return t})()))}#s(){return this.listeners.map((e=>(()=>{let t=[];for(let i in e.events){let n=e.events[i];t.push(e.element.removeEventListener(i,n,!1))}return t})()))}#r(){this.#s()}async#t(e){let t=e.target;if(t.classList.contains("active")||(t=t.closest("."+this.options.gridClass)),t.classList.contains("active"))return this.#l(t),!1;t.parentNode.querySelectorAll("."+this.options.gridClass).forEach((e=>{e.classList.remove("active")})),t.classList.add("active");let i=t.parentNode.querySelector("."+this.options.expanderClass);i&&i.remove();let n=this.#o(t);t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});const s=await this.#a(t);let r=this.#c(t),l=document.createElement("div");l.classList.add("gridder-content"),l.innerHTML=s,n.innerHTML="",n.appendChild(r),n.appendChild(l),this.#d(n,t),this.clickedElement=t,this.expanderElement=n,this.options.open.call(this)}update(t){this.options=e(!0,{},this.options,null!=t?t:{}),this.#i()}destroy(){return this.#r(),delete this.element.gridderjs,s.instances.splice(s.instances.indexOf(this),1)}#o=function(e){let t=document.createElement("div");return t.classList.add(this.options.expanderClass),t.style.gridColumn="1 / span "+this.options.columns,t.innerHTML="Loading...",this.#h(t,e),t};#l=function(e){e.classList.remove("active"),e.parentNode.querySelector("."+this.options.expanderClass).remove(),e.parentNode.classList.remove("hasOpenExpander"),this.clickedElement=null,this.expanderElement=null,this.options.close.call(e)};#a=async function(e){if(e.dataset.target){let t=e.dataset.target;return document.getElementById(t).innerHTML.trim()}let t=e.dataset.url;return(await fetch(t)).text()};#c=function(e){let t=document.createElement("div");if(t.classList.add("gridder-navigation"),this.#p(e,"."+this.options.gridClass)){let e=document.createElement("a");e.classList.add("gridder-prev"),e.innerHTML=this.options.prevText,t.appendChild(e)}if(this.#u(e,"."+this.options.gridClass)){let e=document.createElement("a");e.classList.add("gridder-next"),e.innerHTML=this.options.nextText,t.appendChild(e)}let i=document.createElement("a");return i.classList.add("gridder-close"),i.innerHTML=this.options.closeText,t.appendChild(i),t};#d=function(e,t){e.querySelector(".gridder-close").addEventListener("click",(()=>{this.#l(t)}));let i=e.querySelector(".gridder-next");i&&i.addEventListener("click",(()=>{let e=this.#u(t,"."+this.options.gridClass);if(e){const t=new Event("click",{bubbles:!0});e.dispatchEvent(t)}}));let n=e.querySelector(".gridder-prev");n&&n.addEventListener("click",(()=>{let e=this.#p(t,"."+this.options.gridClass);if(e){const t=new Event("click",{bubbles:!0});e.dispatchEvent(t)}}))};#h=function(e,t){t.parentNode.classList.add("hasOpenExpander"),t.parentNode.insertBefore(e,t.nextSibling)};#u=function(e,t){var i=e.nextElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}};#p=function(e,t){var i=e.previousElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.previousElementSibling}}}s.options={},s.optionsForElement=function(e){return e.getAttribute("id")?s.options[camelize(e.getAttribute("id"))]:void 0},s.instances=[],"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.gridderjs=function(e){return this.each((function(){return new s(this,e)}))}),window.GridderJS=s})();
//# sourceMappingURL=gridder-js-min.js.map
