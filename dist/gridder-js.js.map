{"mappings":"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","sources":["src/gridder-js.js"],"sourcesContent":["/* TEST */\r\nGridderJS = (function () {\r\n\r\n  'use strict';\r\n\r\n  /**\r\n   * Create the Constructor object\r\n   */\r\n  var Constructor = function (target, options = {\r\n    columns: 4,\r\n    gap: 20,\r\n    debug: false,\r\n    onOpen: function(){},\r\n  }) {  \r\n\r\n    //\r\n    // Variables\r\n    // \r\n    var publicAPIs = {};\r\n    var pluginTitle = \"GridderJS\";\r\n    var expanderClass = \"gridder-show\";\r\n    var gridClass = \"gridder-list\";\r\n\r\n    //\r\n    // Methods\r\n    //\r\n\r\n    /**\r\n     * A private method\r\n     */\r\n    var init = function () {\r\n\r\n      let nodes = document.querySelectorAll(target);\r\n\r\n      debug.log(pluginTitle+' Initializing '+nodes.length+' instance(s)', nodes[i], options);\r\n\r\n      for (var i = 0; i < nodes.length; i++) {\r\n\r\n        let parentGrid = nodes[i];\r\n\r\n        // init gridder style and css\r\n        parentGrid.style.display = 'grid';\r\n        parentGrid.style.gridTemplateColumns = 'repeat('+options.columns+', 1fr)';\r\n        parentGrid.style.gridAutoFlow = 'row dense';\r\n        parentGrid.style.gap = options.gap+'px';\r\n\r\n        // init events\r\n        let ul = parentGrid.querySelectorAll(\".\"+gridClass);\r\n        ul.forEach(li => {\r\n          li.addEventListener('click', (e) => {\r\n            open(e);\r\n          });\r\n        });\r\n\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Open expander\r\n     * @param e\r\n     */\r\n    var open = function (e) {\r\n\r\n      debug.log(' Clicked grid item', e);\r\n\r\n      let el = e.target;\r\n\r\n      // make sure we have the grid item\r\n      if(!el.classList.contains('active')){\r\n        el = el.closest('.'+gridClass);\r\n      }\r\n\r\n      // if same grid item is selected, close it\r\n      if(el.classList.contains('active')){\r\n        close(el);  \r\n        return false;\r\n      }\r\n      \r\n      // then set all as inactive and activate clicked grid item\r\n      el.parentNode.querySelectorAll('.'+gridClass).forEach( div => {\r\n        div.classList.remove('active');\r\n      });\r\n      el.classList.add('active');\r\n\r\n      // close expander first if open\r\n      let existingExpander = el.parentNode.querySelector('.'+expanderClass);\r\n      if(existingExpander){\r\n        existingExpander.remove();\r\n      }\r\n\r\n      // get expander content\r\n      let target = el.dataset.target;\r\n      let targetElement = document.getElementById(target);\r\n\r\n      // create navigation\r\n      let gridderNavigation = createNavigationElements();\r\n\r\n      // create content\r\n      let gridderContent = document.createElement('div');\r\n      gridderContent.classList.add('gridder-content');\r\n      gridderContent.innerHTML = targetElement.innerHTML.trim();\r\n\r\n      // create expander\r\n      let template = document.createElement('div');\r\n      template.appendChild(gridderNavigation);\r\n      template.appendChild(gridderContent);\r\n\r\n      // style expander\r\n      template.classList.add(expanderClass);\r\n      template.style.gridColumn = '1 / span '+options.columns;\r\n\r\n      // insert expander\r\n      insertAfter(template, el);\r\n\r\n      // scroll into view\r\n      template.scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"nearest\"});\r\n\r\n      // initialize navigation events\r\n      initializeNavigationEvents(template, el);\r\n\r\n      // open expander callback\r\n      if (typeof(options.onOpen) === \"function\") {\r\n        options.onOpen(template);\r\n      }\r\n\r\n    }\r\n\r\n    var close = function (el) {\r\n      el.classList.remove('active');\r\n      el.parentNode.querySelector('.'+expanderClass).remove();\r\n    }\r\n\r\n    var createNavigationElements = function () {\r\n\r\n      // add close button\r\n      let close = document.createElement('a');\r\n      close.classList.add('gridder-close');\r\n      close.innerHTML = \"Close\";\r\n\r\n      // add prev button\r\n      let prev = document.createElement('a');\r\n      prev.classList.add('gridder-prev');\r\n      prev.innerHTML = \"Previous\";\r\n\r\n      // add next button\r\n      let next = document.createElement('a');\r\n      next.classList.add('gridder-next');\r\n      next.innerHTML = \"Next\";\r\n\r\n      // create navigation container\r\n      let el = document.createElement('div');\r\n      el.classList.add('gridder-navigation');\r\n\r\n      // put everything together\r\n      el.appendChild(prev);\r\n      el.appendChild(next);\r\n      el.appendChild(close);\r\n\r\n      return el;\r\n    }\r\n\r\n    var initializeNavigationEvents = function(template, parent) {\r\n\r\n      template.querySelector('.gridder-close').addEventListener('click', () => {\r\n        close(parent);\r\n      });\r\n\r\n      template.querySelector('.gridder-next').addEventListener('click', () => {\r\n        let target = getNextSibling(parent, '.'+gridClass);\r\n        if(target) {\r\n          const event = new Event('click', {bubbles: true});\r\n          target.dispatchEvent(event);\r\n        }\r\n      });\r\n\r\n      template.querySelector('.gridder-prev').addEventListener('click', () => {\r\n        let target = getPreviousSibling(parent, '.'+gridClass);\r\n        if(target) {\r\n          const event = new Event('click', {bubbles: true});\r\n          target.dispatchEvent(event);\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    var insertAfter = function(newNode, existingNode) {\r\n      existingNode.parentNode.insertBefore(newNode, existingNode.nextSibling);\r\n    }\r\n\r\n    var getNextSibling = function (elem, selector) {\r\n      var sibling = elem.nextElementSibling;\r\n      if (!selector) return sibling;\r\n      while (sibling) {\r\n        if (sibling.matches(selector)) return sibling;\r\n        sibling = sibling.nextElementSibling\r\n      }\r\n    };\r\n\r\n    var getPreviousSibling = function (elem, selector) {\r\n      var sibling = elem.previousElementSibling;\r\n      if (!selector) return sibling;\r\n      while (sibling) {\r\n        if (sibling.matches(selector)) return sibling;\r\n        sibling = sibling.previousElementSibling;\r\n      }\r\n    };\r\n\r\n    var debug = (function () {\r\n      return {\r\n        log: function() {\r\n          if(!options.debug) return false\r\n          var args = Array.prototype.slice.call(arguments);\r\n          console.log.apply(console, args);\r\n        },\r\n      }\r\n    }());\r\n\r\n    /**\r\n     * A public method\r\n     */\r\n    publicAPIs.doSomething = function () {\r\n      // Code goes here...\r\n    };\r\n\r\n    //\r\n    // Init\r\n    //\r\n    init(document.querySelectorAll(target));\r\n\r\n    //\r\n    // Return the Public APIs\r\n    //\r\n\r\n    return publicAPIs;\r\n\r\n  };\r\n\r\n\r\n  //\r\n  // Return the Constructor\r\n  //\r\n\r\n  return Constructor;\r\n\r\n})();"],"names":[],"version":3,"file":"gridder-js.js.map","sourceRoot":"../"}